clear all;
clc;
P=[166	15.8	24.5	700	112	179	513
185	15.7	31.5	701	125	184	427
193	9.8	25.9	541	163	128	642
159	14.2	39.7	896	99.2	239	726
226	16.2	23.8	606	152	70.3	218
171	9.29	9.29	307	187	45.5	257
201	13.3	26.6	551	101	49.4	141
147	14.5	30	659	102	154	680
172	8.85	7.86	551	75.7	98.4	318
156	11.5	32.5	639	107	103	552
132	15.9	17.7	578	92.4	1314	1372
182	11.3	11.3	767	111	264	672
186	9.26	37.1	958	233	73	347
162	8.23	27.1	625	108	62.4	465
150	6.63	21	627	140	179	639
159	10.7	11.7	612	190	98.5	390
117	16.1	7.04	988	95.5	136	572
181	10.1	4.04	1437	184	101	542
146	20.7	23.8	1232	128	150	1092
42.3	10.3	9.7	629	93.7	439	888
28.2	12.4	53.1	370	44.1	454	852
154	13.8	53.3	621	105	160	723
179	12.2	17.9	1139	150	45.2	218
13.5	3.36	16.8	135	32.6	51.6	182
175	5.84	24.9	807	123	55.6	126
113	15.8	47.3	626	53.6	168	627
50.5	11.6	6.3	608	58.9	58.9	139
78.6	14.6	9.7	421	70.8	133	464
90	3.27	8.17	622	52.3	770	852
178	28.8	32.4	992	112	70.2	169
213	19.1	36.2	2220	249	40	168
170	13.9	29.8	1285	226	47.9	330
162	13.2	19.8	1521	166	36.2	133
203	13	90.8	1544	162	98.9	394
167	13.1	14.1	2278	212	46.3	134
164	12.9	18.6	2993	197	36.3	94.5
167	15	27	2056	260	64.6	237
158	14.4	37	1025	101	44.6	72.5
133	22.8	31	1633	401	180	899
156	135	322	6747	1090	228	810
169	8	308	1068	99.1	53	289
247	17.3	8.65	2554	241	77.9	373
166	8.1	62.8	1233	252	134	649
209	6.43	86.9	2157	288	74	219
182	6.49	61.7	3870	432	143	367
235	15.6	23.4	1806	166	68.8	188
173	19.1	17	2497	295	65.8	287
151	19.7	64.2	2031	403	182	874
191	65.4	35	5361	392	137	688
223	24.4	86	3603	353	97.7	479
221	20.1	155	3172	368	150	739
217	25	28.2	2343	373	110	494
164	22.2	35.5	2212	281	153	549
173	8.99	36	1624	216	103	257
202	18.6	17.7	3785	225	31	67.3
182	17.3	24.8	3073	246	50.7	109
211	24	17	3836	428	73.5	351
246	21.5	93.2	2112	354	71.7	195
164	16.1	38	2135	152	64.3	240
179	21	35	1560	226	47.9	330
]';
%P=[-1 -1 2 2 4;0 5 0 5 7];%%输入
T=[  1
     1
     1
     1
     1
     1
     1
     1
     1
     1
     1
     1
     1
     1
     1
     1
     1
     1
     1
     1
     1
     1
     1
     1
     1
     1
     1
     1
     1
     1
     2
     2
     2
     2
     2
     2
     2
     2
     2
     2
     2
     2
     2
     2
     2
     2
     2
     2
     2
     2
     2
     2
     2
     2
     2
     2
     2
     2
     2
     2
]';
%T=[-1 -1 1 1 -1];%%%输出
%利用minmax函数求输入样本范围
net = newff(minmax(P),[6,4,1],{'tansig','tansig','purelin'},'trainrp');%%%%搭建神经网络

net.trainParam.show=50;%
net.trainParam.lr=0.05;
net.trainParam.epochs=300;
net.trainParam.goal=1e-5;
[net,tr]=train(net,P,T);%%%%考试训练网络

w1=net.iw{1,1}%隐层权值
b1=net.b{1}%隐层阈值

w2=net.lw{2,1}%输出层权值
b2=net.b{2}%输出层阈值

op=round(sim(net,P))%%%%检验网络效果
ERR=1-sum(T==op)/length(T)
